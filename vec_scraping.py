import singlestoredb as s2

# Connect to the SingleStore database
connection = s2.connect(
    <Login details>
)

# Function to search for a specific item in the vector database
def search_vector_database(search_vector):
    # SQL query to search for the vector
    query = """
    SELECT id, content, embedding <=> %s AS similarity 
    FROM new_embeddings 
    ORDER BY similarity 
    LIMIT 5;
    """
    
    with connection.cursor() as cursor:
        cursor.execute(query, (search_vector,))
        results = cursor.fetchall()
        
        # Print the output of the search
        for result in results:
            print(result)

# Example usage
search_vector = [ 0.010246328,0.013430979,-0.013945545,0.028667856,-0.017281746,0.0035568543,0.046018165,0.017467638,-0.054832563,-0.00805237,0.008599687,-0.0073333057,-0.023305796,0.0028975843,0.0010077289,-0.016718013,-0.024988873,0.014249829,0.016401313,-0.005047917,0.0008716135,0.053917494,-0.014431899,-0.044733662,0.01910829,-0.010370323,-0.03129968,-0.016844487,0.028338468,0.016712705,-0.02151559,-0.049006775,-0.023826497,-0.04618566,-0.000763728,0.009350089,-0.006794,0.0061761276,-0.035478014,0.018809024,0.053360075,-0.002833329,-0.0028284201,0.024673562,0.0011387373,-0.022641638,-0.036930017,-0.022633845,-0.010624853,-0.064548746,0.0072601996,-0.010117911,0.03290635,-0.025054725,0.032175094,0.0490264,0.00933854,-0.0337196,-0.035733033,0.029203879,-0.001721995,0.0073305476,0.0065706414,-0.012370876,0.047125135,0.03058402,-0.018767403,-0.0006419738,-0.029798428,0.018847477,-0.017461324,0.013138986,0.005994034,0.012716735,-0.017482636,0.02205562,0.009212291,0.022822656,0.018338952,0.021751588,0.033258148,-0.00013255108,0.021651253,0.018786792,-0.00878912,0.04215806,-0.018736232,0.055097833,0.035386417,-0.054450415,0.019099599,-0.043509286,-0.025071999,-0.029421812,0.02513816,0.008203642,-0.053965,0.002691402,0.024891786,0.012788474,-0.009006745,-0.024492873,-0.008690858,0.025615886,0.05780782,-0.020776585,0.0010650525,0.051343996,0.035085518,-0.025559029,0.057528976,0.031222649,-0.011107444,-0.041626506,-0.004718925,0.016845262,-0.032111276,-0.07372089,0.0032013843,0.026032837,0.0018898482,0.014598304,-0.0302575,-0.0012125055,0.063784346,0.04946936,-0.025903855,0.02779743,0.02115962,0.054388486,0.0031461187,0.027217442,-0.011028752,0.044140365,-0.0050292304,-0.030845383,0.00430473,-0.0127613,-0.010656599,-0.007207163,-0.0056578238,0.036201764,-0.06338927,-0.08044764,0.022454973,-0.07379389,0.011646239,-0.019263586,0.033286814,-0.04461302,0.022617595,0.025855921,0.037202224,-0.042992078,0.028688403,0.0004519309,0.02589305,0.056481354,0.0044473875,-0.016167607,0.011997104,-0.008397098,-0.049486596,0.00056813896,-0.0203762,-0.017638879,0.00045685997,0.014606255,-0.040832996,-0.021194188,0.0365145,-0.022176372,-0.017782493,0.013611982,0.05724016,0.014623478,0.033457343,0.010103367,0.0057406304,-0.0023592354,-0.025166368,0.02236326,-0.014263589,-0.02784757,-0.019518849,0.04260277,0.0028671897,0.030956093,-0.010907936,-0.0052337707,-0.05467046,-0.02255839,0.061737932,0.044171654,0.039247822,-0.005526741,0.01594327,-0.035450403,0.004011698,0.015600091,0.0006782523,0.035198722,-0.040003292,-0.015045628,-0.03969589,-0.01420581,-0.013686521,-0.026120769,0.016207783,0.018406799,0.034854878,-0.0015160735,-0.022545395,-0.066305004,-0.038205765,0.010622844,0.022837128,-0.018527802,-0.012823321,0.031987477,0.020649752,0.0049945433,-0.028631791,0.023015592,-0.0072764475,-0.035936758,0.015668463,-0.008282276,0.010119012,-0.03593661,-0.03587682,0.042375095,0.026400113,0.02255896,0.021955743,-0.011194983,-0.020784922,0.037159488,0.019547373,0.041410707,-0.003913573,0.023686023,0.010862751,0.049107354,0.009373772,0.02885065,0.028785618,0.008449378,-0.046803772,0.006340062,0.02196216,-0.0037654752,-0.021836877,0.0130013535,-0.0010097441,0.0071381824,0.0055903513,-0.020387605,-0.014730244,-0.022158308,0.010665771,0.07978519,0.03266969,0.042008698,0.020807143,-0.02394081,-0.021189695,-0.037663765,0.060164146,0.02468615,0.01567486,-0.012615467,-0.014068752,0.012354202,-0.053663325,0.011074383,-0.02342124,0.027207708,0.059565645,0.010590787,0.036525927,-0.017463187,0.007266549,-0.041383393,0.027148923,-0.043609418,-0.079924986,-0.01775154,0.023593951,0.054540094,0.01664373,-0.031475633,0.048016988,-0.024820846,0.035879277,0.01894779,-0.060508303,-0.16732068,0.00055964186,0.0049012634,-0.01789689,0.021342607,0.035374764,0.0062860814,-0.05964326,-0.02135217,-0.06274987,-0.0076761865,-0.032299653,-0.00012265003,-0.009535581,0.056856427,0.030991588,-0.019369207,-0.038449988,-0.030734003,-0.06761594,0.014994231,0.012170935,0.05408358,-0.026913818,-0.034799542,0.012174796,-0.008418095,-0.03390644,-0.011939531,0.0024125238,-0.018372998,0.025849968,0.0013816485,0.044053625,-0.0028294844,0.0023223262,-0.0022141477,-0.024824312,0.06039052,0.00062679756,0.015383287,0.083044596,-0.015888873,-0.0018084216,0.026939953,-0.013425638,-0.017228639,0.032263182,0.027237361,0.0048056357,0.049798384,-0.00013483268,-0.021303598,-0.00612251,-0.052108128,-0.011208738,-0.010096495,0.040250704,0.04820208,-0.024456482,-0.038787708,-0.047617782,-0.0032681385,-0.03034864,-0.0478464,-0.0070082406,0.012570865,-0.0040497663,0.029004412,-0.051753197,0.0057522096,-0.036477555,0.018823884,0.012230307,0.060704112,0.016831983,-0.020581631,0.01168279,-0.0019371609,-0.13292046,-0.028697437,0.021738766,0.021952655,-0.010113794,-0.038743716,-0.04880496,-0.02020148,-0.022273913,0.020952674,0.24160267,-0.0022662454,0.05877139,-0.006766433,0.03462418,0.0018730274,0.0019870652,0.04184701,-0.006797444,-0.021223862,-0.0389905,0.014704995,8.033648e-05,-0.016894937,-0.007380971,0.045033228,-0.024820628,0.047110915,0.07027349,-0.016720643,0.017534219,-0.05044885,-0.0146060595,-0.021338003,-0.011201903,-0.018203447,-0.029815163,0.014064503,-0.022056514,0.008394067,-0.039696693,-0.009323791,0.017622525,-0.054396622,0.017623324,-0.0116565395,0.020833602,0.021271044,-0.019052396,0.02077253,-0.003211475,-0.002402378,-0.0046192165,0.02775223,-0.03043142,0.0014399682,0.045606982,0.009003853,-0.016297447,0.011086992,0.029877424,-0.04675803,-0.019923026,-0.017884582,-0.015538613,-0.015415918,-0.00018185911,-0.0046017235,0.012284514,0.052327782,-0.02366789,-0.0068966867,0.0005666913,0.014397103,0.013280748,0.05905923,0.01084836,-0.0017411037,0.017581072,0.025522208,0.002307514,-0.030964416,-0.03542843,0.010013106,0.02836551,-0.012313915,0.024084687,0.009981998,0.013935071,0.043754246,0.008842176,-0.021765703,-0.003665685,-0.01880848,0.028304636,0.030373972,0.059834607,0.036467712,-0.020951089,0.016688008,-0.021396505,0.021646978,-0.0731328,0.004419878,0.011418086,-0.033464424,0.010364974,0.011845609,-0.0045670415,0.03140735,-0.00013033535,-0.019530386,0.0125215845,0.016294718,0.05488173,-0.024175607,-0.02227738,0.017350126,-0.03733263,0.011826517,-0.022880502,-0.019231994,-0.013819038,-0.01599267,0.0114938235,0.0056664483,0.06206725,-0.02317086,0.0007257096,0.008549765,-0.016955294,0.0222756,0.018742548,-0.05255044,0.028592335,-0.030136595,0.0027639887,0.036921706,-0.00014571156,0.020188214,-0.022579277,-0.030875172,-0.026735805,0.0047598165,0.063631475,0.023757624,0.020256435,-0.04704425,-0.015234741,0.026735142,0.03120641,0.029010462,-0.010390498,-0.014636513,0.02018563,0.021482768,-0.024812564,-0.020875355,-0.019570906,-0.031421214,0.030978272,-3.8228067e-05,0.0488449,-0.027572751,0.0023256633,-0.015029183,-0.03313284,0.017596358,-0.015787894,0.0076944325,0.036420245,-0.018998483,0.0589976,0.02116853,0.0018668965,-0.0052185,0.0051859324,0.051736437,-0.0037051183,0.012943734,-0.04242773,-0.027877284,0.024976395,0.057099145,-0.009231949,-0.037431486,-0.04216401,-0.003463727,0.04702705,-0.016433595,0.008945971,0.020180807,0.04606855,0.009758098,0.038433466,0.015068968,-0.0043202788,-0.010994945,0.03179668,-0.01647472,-0.04167356,0.07348744,-0.018134294,-0.020822959,0.024057653,0.023061361,0.05706444,-0.0075008827,0.039029576,-0.022708029,-0.040329613,-0.013849995,0.021461045,0.040238526,-0.017717171,0.004355959,-0.013965884,0.040637635,0.013477561,-0.02942333,-0.01285323,-0.028607361,-0.01551912,-0.01262733,-0.022193968,-0.067192696,-0.019573154,0.021526374,-0.023554442,0.02506373,0.011147446,-0.0053342446,0.029039623,-0.031698585,0.0002883749,-0.014028339,-0.0045030164,0.00065352215,-0.046016563,-0.04923908,-0.014984731,0.0132389655,-0.012241971,0.02197755,0.025153864,-0.068644956,0.02390287,-0.00077523204,0.0034995363,-0.038539562,-0.019805923,0.02738305,-0.01209771,0.023148471,-0.0116306655,0.02266697,-0.03339069,0.03195238,0.016071139,0.05840163,-0.0062132617,-0.03045837,-0.010541051,-0.007932459,0.029181864,-0.012830835,-0.023809517,0.026330076,-0.045165878,0.003111487,-0.0125060035,0.009455928,-0.0048277993,-0.0038154344,0.040755577,-0.02644657,0.03999668,-0.061746966,-0.010510622,-0.020129424,-0.022448584,-0.0299248,-0.020970007,0.0076777623,0.053759675,0.007692563,-0.0070239604,-0.0039438806,-0.023263304,0.023401864,-0.004660972,0.00032593997,0.07786627,0.0067705316,-0.003281454,-0.01546817,-0.04721385,0.04679151,0.07762537,-0.0314081,0.023805544,-0.010895564,-0.014752439,0.044458516,-0.013869616,0.0047038477,-0.021900749,0.022564465,-0.023050373,-0.014608822,-0.006864124,-0.0042558042,-0.012584312,-0.02893221,-0.013511413,-0.015491021,-0.016277162,-0.00057069206,0.020049516,-0.022639403,0.029036188,-0.07187006,-0.007650808,0.032238334,0.0074571837,-0.03678527,0.023493309,-0.011822568,0.016072975,0.0039634854,-0.015157329,-0.00029967885,0.019131804,-0.0009638182,-0.004584931,-0.0011889098,0.043508105,-0.02213268,-0.044926226,0.0068677776,-0.02540293,0.0033447992,0.006048902,-0.04674822,-0.037384763,-0.012479375,0.064165935,0.01669906,0.022195596,-0.057186976,-0.041371085,0.053906348,0.015120303,-0.018222064,-0.014530665,-0.04624987,-0.0076725907,-0.03764163,-0.014981578,0.01853657,0.03354723,-0.018353233,-0.0390863,-0.02431622,0.041557133,-0.07780308,-0.043355156,0.01389992,0.05785332,0.016883712,-0.013854671,0.03511591,-0.01590904,0.006768789,-0.014173909,0.05279636,-0.04123987,-0.06696652,-0.0054085413,-0.0027708756,-0.019929035,0.0619521,0.0032395348,0.04944911,0.022669945,0.02533038,-0.0165246,-0.024522059,0.0071508363,-0.015465115,-0.025617564,-0.021337656,-0.042372838,-0.038630582,0.0192028,-0.03725646,-0.010381498,0.028454274,-0.06685741,0.011186392,-0.025103424,0.007867211,-0.06628102,-0.009638209,-0.11415197,-0.001286831,-0.012863159,0.010772345,-0.008326895,0.004824288,-0.05328982,-0.01917526,-0.041666035,-0.020963153,-0.0077450965,0.01325257,0.06122166,-0.01903775,0.018925572,0.07018408,-0.0052387873,0.007074197,0.005281053,0.062305823,0.015752621,0.0061819763,0.018330626,-0.037877906,-0.0066751945,-0.0242888,0.0198625,-0.00080003915,0.011081334,-0.0068390747,0.017477809,0.02303958,-0.009661161,0.0054734345,0.009154627,-0.010811056,0.0016345868,0.025966512,0.015522711,0.048112903,-0.030691823,0.011530925,-0.038268715,0.010116146,-0.03378012,0.046763778,-0.05727947,-0.017613487,-0.037516084,-0.011533666,-0.007913898,0.0089499755,0.04979472,0.012365218,-0.016658343,0.04948381,-0.023551693,-0.005951194,-0.011847828,0.011887388,-0.0093215555,0.016388902,-0.03433853,-0.046550438,0.023354212,0.04531401,-0.007997292,-0.015155307,0.020589856,0.0124534,-0.05007387,-0.008022379,-0.027283045,0.009790577,0.030818257,-0.036556248,0.04902106,-0.020885544,0.017563075,-0.030418511,-0.04926442,-0.07502594,0.020231662,0.038836017,-0.008932457,0.0032066617,-0.020975355,-0.0023169315,-0.035179928,-0.052965358,-0.047177736,-0.053896133,0.023612006,-0.05425477,0.0020920164,0.004639439,0.0049245157,-0.026968284,0.0030295542,-0.04274866,-0.0052914526,0.011060473,0.008064956,-0.053186223,-0.06405504,-0.0050767125,-0.032621995,-0.005357286,-0.035373114,-0.011690189,0.03221077,0.004967008,-0.039787363,0.0018147111,-0.02773527,0.023872118,0.035824213,0.053161882,0.036614675,0.000604655,-0.037082933,-0.007281178,0.025376178,-0.015326508,0.036767285,-0.00942611,0.068104476,-0.009348245,0.05456579,-0.019421272,0.0076415143,-0.053332176,0.037149224,-0.01543378,-0.0030188065,-8.0472484e-05,-0.078125596,0.035549495,-0.016989073,-0.054028757,-0.03219022,-0.005769824,-0.013024337,-0.025909549,-0.0470961,-0.003470418,-0.019004034,-0.014112672,-0.020297708,-0.021541778,0.02570414,-0.025059855,0.009896019,0.014540852,0.0020414551,0.023277367,-0.032808214,-0.020599088,0.04279763,0.0716109,0.018927453,-0.03625187,0.009015782,-0.009725684,-0.020023173,0.047586147,0.0023058224,0.011823412,0.018632133,-0.04316201,-0.02572453,-0.00032837156,-0.041352984,-0.015127015,0.019777989,0.0119881425,-0.027737925,0.015873488,-0.034678683,0.009527561,0.04143627,0.042277895,0.019505642,-0.0028106568,0.069406,0.016501106,-0.013466933,-0.02423159,-0.00403418,-0.004803114,-0.010655575,0.0041525518,0.027111005,0.02558604,0.03243954,-0.005464333,0.008427204,-0.0068972283,0.015326992,0.074917175,0.00012853176,-0.023540061,-0.020647127,0.02446792,-0.064749375,-0.056346837,-0.0088535,-0.0035009792,-0.06686957,0.031469516,-0.03168943,-0.013489382,0.011185519,-0.004832237,-0.0103815645,-0.023874206,0.010963536,0.035840154,-0.005652312,-0.005393532,-0.01067664,0.015585443,-0.045027155,0.014233861,-0.008286943,-0.022242716,-0.0072394987,-0.007318119,0.009046857,-0.010418511,-0.029417938,0.04772042,-0.014338176,0.008376972,-0.007522499,-0.011490216,-0.026533317,0.028703919,0.010587228,0.0052865087,0.020206967,-0.039694108,0.008502711,0.00046768718
]  # Replace with your search vector
search_vector_database(search_vector)

# Close the connection
connection.close()
